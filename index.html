<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Murino FM</title>

<style>
body {
    margin: 0;
    background: #0f0f0f;
    color: white;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
}

h1 {
    margin: 40px 0 10px;
    font-weight: 500;
}

.controls {
    margin: 15px 0;
}

button {
    background: #1a1a1a;
    border: none;
    color: white;
    padding: 10px 18px;
    margin: 0 5px;
    border-radius: 10px;
    cursor: pointer;
    transition: 0.2s;
}

button:hover {
    background: #ff5500;
}

#playlist {
    width: 90%;
    max-width: 500px;
    margin-top: 20px;
}

.track {
    padding: 12px;
    margin: 8px 0;
    background: #1a1a1a;
    border-radius: 10px;
}

.track.active {
    background: #ff5500;
}

iframe {
    margin-top: 20px;
    border-radius: 12px;
}
</style>
</head>
<body>

<h1>üéß Murino FM</h1>

<div class="controls">
    <button id="prev">‚èÆ –ù–∞–∑–∞–¥</button>
    <button id="next">‚è≠ –í–ø–µ—Ä—ë–¥</button>
</div>

<iframe 
    id="sc-player"
    width="90%" 
    height="300" 
    scrolling="no" 
    frameborder="no" 
    allow="autoplay"
    src="https://w.soundcloud.com/player/?url=https%3A//soundcloud.com/ivan-bastrikov-sergeevich/sets/murino-fm&color=%23ff5500&auto_play=false&show_comments=false&show_user=true&show_reposts=false&show_teaser=false">
</iframe>

<div id="playlist"></div>

<script src="https://w.soundcloud.com/player/api.js"></script>
<script>
const iframe = document.getElementById('sc-player');
const widget = SC.Widget(iframe);

const playlistDiv = document.getElementById('playlist');
let tracks = [];
let currentIndex = 0;

widget.bind(SC.Widget.Events.READY, function() {
    widget.getSounds(function(sounds) {
        tracks = sounds;

        sounds.forEach((track, index) => {
            const div = document.createElement("div");
            div.classList.add("track");
            div.textContent = track.title;

            div.addEventListener("click", () => {
                widget.skip(index);
                widget.play();
            });

            playlistDiv.appendChild(div);
        });
    });
});

widget.bind(SC.Widget.Events.PLAY, function() {
    widget.getCurrentSound(function(sound) {
        currentIndex = tracks.findIndex(t => t.id === sound.id);

        document.querySelectorAll('.track').forEach(t => t.classList.remove('active'));
        if (playlistDiv.children[currentIndex]) {
            playlistDiv.children[currentIndex].classList.add('active');
        }
    });
});

document.getElementById("next").addEventListener("click", () => {
    widget.next();
});

document.getElementById("prev").addEventListener("click", () => {
    widget.prev();
});
</script>

</body>
</html>